

                         DirCount 1.8, 04-12-95
                              DIRCNT18.ZIP

                     File Directory Header Utility


                         Public Domain Material
                                   by
                            Samuel H. Smith


                         From The Tool Shop BBS

              Phone number             Modem type
           --------------    -------------------------------
           (818) 891-3772    US Robotics HST 9600
           (818) 891-1344    v.32bis 14400 (five line rotary)
           (818) 891-6780    v.32bis 14400 (free line)



        What?  Not another directory header utility!

        This one is lean and fast.
        You get source code so you can change it if you want.

        DirCount will scan each file directory listing and insert a header
        that lists the number of files and megabytes used by them.

        DirCount also generates a summary of all your file listings.

        DirSum generates a summary of multiple conferences.

        DirOv generates a shortened summary of areas in a single conference.



                                  USAGE
                                  =====

        DirCount  CONFIGFILE  >SUMMARYFILE

        CONFIGFILE
                Specifies the configuration file

        >SUMMARYFILE
                Routes the directory summary to the specified file
                (usually one of your bulletins)

        Example:
                DirCount dircount.cnf >c:\pcb\gen\dir
                DirCount gifcount.cnf >c:\pcb\adult\dir
                DirCount boostcnt.cnf >c:\pcb\boosters\dir


        DirSum SUMMARY1 SUMMARY2 SUMMARY3 >REPORTFILE

        SUMMARY1
        SUMMARY2
        SUMMARY3
                Specifies any number of summaries generated by DIRCOUNT.

        >REPORTFILE
                Routes the report of all summary files to the specified
                file (usually one of your bulletins)

        Example:
                DirSum c:\pcb\gen\dir c:\pcb\adult\dir c:\pcb\boosters\dir >c:\pcb\gen\blt19


        DirOV SUMMARY1 MAXDESC >REPORTFILE

        SUMMARY1
                Specifies the summary generated by DIRCOUNT.

        MAXDESC
                Specifies the maximum width of area descriptions to
                preserve.

        >REPORTFILE
                Routes the report of all summary files to the specified
                file (usually one of your bulletins)

        Example:
                DirOV c:\pcb\gen\dir 15 | col 19 4 >c:\pcb\gen\blt20


Configuration file format:

        Line 1.   The main title for each file directory.
                  Usually the name of your board.

        Line 2.   The subtitle for the directory summary report.

        Line 3.   The full filename of the first DIR file
        Line 4.   The subtitle for the first DIR file

        Line 5.   The full filename of the next DIR file
        Line 6.   The subtitle for the next DIR file
        ...


Sample Configuration File:

   The Tool Shop: Specializing in Software Tools
   [MAIN BOARD FILE AREAS]
   C:\PCB\GEN\DIR1
   The Tool Box - ProDoor and Sysop Utilities
   C:\PCB\GEN\DIR2
   Library Source Files
   C:\PCB\GEN\DIR3
   General Utilities
   C:\PCB\GEN\DIR4
   Unix and C Language
   C:\PCB\GEN\DIR5
   Pascal Language
   C:\PCB\GEN\DIR6
   Assembly Language
   C:\PCB\GEN\DIR7
   Other Languages
   C:\PCB\GEN\DIR8
   Communication Utilities
   C:\PCB\GEN\DIR9
   On the Lite Side
   C:\PCB\GEN\DIR10
   Artificial Intelligence
   C:\PCB\GEN\DIR11
   Atari ST and 68000
   C:\PCB\GEN\DIR12
   BBS and Sysop Utilities
   C:\PCB\GEN\DIR13
   Files in this area are deleted as space is needed
   C:\PCB\MAIN\DIR14
   Recent Uploads - Thanks!


Sample Directory Summary:

                 The Tool Shop: Specializing in Software Tools
                            [MAIN BOARD FILE AREAS]

   Area                Description                 Files      File Sizes
  ------  ------------------------------------   --------  ---------------
     1     S.H.Smith-Comm, DOOR & BBS Utils          108        4,560,071
     2 . . S.H.Smith-Library Source.Code . . . . . . 110 . . . . .495,892
     3     S.H.Smith-Older Utilities                  34        1,638,140
     4 . . S.H.Smith-All Other Programs. . . . . . . 204 . . . .2,755,458
     6     BBS-Comm & Terminal Programs              232       17,967,056
     7 . . BBS-Fido.and.Opus Type.BBS. . . . . . . . .17 . . . .2,202,294
     8     BBS-Offline Mail Readers                   44        7,270,050
     9 . . BBS-PCBoard BBS . . . . . . . . . . . . . 130 . . . 11,324,570
    10     BBS-RBBS BBS                               18        2,128,310
    11 . . BBS-Other BBS Programs. . . . . . . . . . 169 . . . 28,175,431
...
    78 . . Blocked,.Unwanted & Hacked.Files. . . . . 142 . . . . . . . .0
    79     Older Files Soon to be Deleted!             7        2,118,976
    80 . . Recent.Uploads. .Thanks!. . . . . . . . 1,182 . . .188,190,929
          ------------------------------------   --------  ---------------
                                Overall Totals     9,594      944,513,116

Sample Dir Listing:

                The Tool Shop: Specializing in Software Tools

                       Other programs by Samuel Smith
                          202 files using 3.09 megs

 File Name      Size     Date                  File Description
------------  -------  --------  ---------------------------------------------

CHMOD.ZIP        2396  05-06-86  Change file modes/attributes
CLOCK.ZIP         931  08-19-86  J/ADA System clock package
DERMON11.ZIP    10416  05-01-90  Disk Error Monitor utility
 | TSR utility to monitor disk activity and record last 50 errors in
 | memory for later reporting.  Catches errors that DOS silently corrects.
 | Includes MASM source code.  V1.1 no longer needs to be loaded "last".
EZSPEL14.ZIP    55841  04-25-89  EZ-Spell.  Updated spelling checker.
 | Now displays unknown words in the context they were found.
 | Use it with DELUXE/Qmail.
FATAL14.ZIP     18005  04-22-90  Replacement for Abort/Retry/Ignore
 | Has shorter automatic retry delays, handles nested COMMAND.COM,
 | and includes new option to zero error counters.
UNZIP20.ZIP     46231  09-09-89  NEW! Zipfile UN-ZIP utility with source code
 | This is intended to be a starter kit for porting UNZIP to non-ibm
 | systems.  Includes source code in both C and Pascal.
 | Now supports PKZ101 format "implode" compression format.


Sample Output of DirSum Utility:

                 The Tool Shop: Specializing in Software Tools
                      Overall Summary of Available Files

                Conference                  Areas     Files      File Sizes  
  --------------------------------------   -------  --------  ----------------

  MAIN BOARD FILE AREAS                        67     9,594       944,513,116

  "BOOSTERS" SUBSCRIBERS ONLY FILE AREAS        2         1               784

  ADULT CONFERENCE FILE AREAS                  10     1,755       223,024,080

                                           -------  --------  ----------------
                          Overall Totals       79    11,350     1,167,537,980


Sample Output of DirOV and COL Utilities:

  1-S.H.Smith-HS/Li  22-Language-"AI" S  43-Misc-Word Proce  62-Util-ZIP and ot
  2-S.H.Smith-Libra  23-Language-"Assem  44-Util-CD-ROM Uti  63-Util-All Other
  3-S.H.Smith-ProDo  24-Language-"Basic  45-Util-Batch Util  64-Windows-Applica
  4-S.H.Smith-All O  25-Language-"Forth  46-Util-Debugging   65-Windows-Printer
  6-BBS-Comm & Term  26-Language-"Pasca  47-Util-Hard and F  66-Windows-Fonts
  7-BBS-Fido and Op  27-Language-All Ot  48-Util-DOS Utilit  67-Windows-Game Pr
  8-BBS-Offline Mai  29-Mag-Magazine Li  49-Util-File Manag  68-Windows-Program
  9-BBS-PCBoard BBS  30-Mag-Online News  50-Util-Graphics    69-Windows-Various
 10-BBS-RBBS BBS     32-Misc-Business &  51-Util-Keyboard    70-Windows-Wallpap
 11-BBS-Other BBS P  33-Misc-Database    52-Util-Memory      72-CPU-Apple & Mac
 12-BBS-Text, ANSI,  34-Misc-Educationa  53-Util-Menu Progr  73-CPU-Atari, Amig
 13-Graph-Clip Art   35-Misc-Games and   54-Util-Modem Conf  74-CPU-CP/M and Ot
 14-Graph-Animation  36-Misc-Hints, Tip  55-Util-Mouse       75-CPU-All Other M
 15-Graph-GIF Drawi  37-Misc-Programs f  56-Util-Multi-Task  77-Older Uploads [
 16-Graph-GIF Scene  38-Misc-Science, E  57-Util-Networking  78-Blocked, Unwant
 17-Graph-GIF Anima  39-Misc-Music and   58-Util-OS/2        79-Older Files Soo
 18-Graph-GIF Peopl  40-Misc-Religious   59-Util-Printer Ut  80-Recent Uploads.
 20-Language-"C" So  41-Misc-Space/Astr  60-Util-Screen Uti 
 21-Language-"ADA"   42-Misc-Text Files  61-Util-Virus      


                                  LICENSE
                                  =======

   This program has been released to the public domain.  Do what you
   want with it- just don't blame me if it doesn't work right.


                                DISCLAIMER
                                ==========
   I make no warranty of any kind, express or implied, including without
   limitation, any warranties of merchantability and/or fitness for a
   particular purpose.  I shall not be liable for any damages, whether
   direct, indirect, special or consequential arising from a failure of
   this program to operate in the manner desired by the user.  I shall not
   be liable for any damage to data or property which may be caused
   directly or indirectly by the use of this program.

   IN NO EVENT WILL I BE LIABLE TO YOU FOR ANY DAMAGES, INCLUDING ANY LOST
   PROFITS,  LOST SAVINGS OR OTHER INCIDENTAL OR CONSEQUENTIAL DAMAGES
   ARISING OUT OF YOUR USE OR INABILITY TO USE THE PROGRAM, OR FOR ANY
   CLAIM BY ANY OTHER PARTY.

                                Revision History
                                ================
12-30-88 v1.0
   Initial release.

07-24-91 v1.1
   Changed output formatting to use bytes, k bytes or megabytes according
   to the actual numeric values for a more readable output.

02-05-92 v1.2
   Changed output formatting to report all file size totals in megabytes.

07-14-93 v1.4
   Changed output formatting to skip empty file areas, to list sizes in bytes
   and to list area descriptions to the left of file counts and sizes.
   Added better error trapping and speeded execution about 100%.
   Added logic to preserve 'DELETED' type directory entries.
   Released to public domain.

08-07-93 v1.5
   Added '. . .' leaders to every other file area line to make reading
   easier when there are lots of areas.
   Added DIRSUM utility to produce a summary report from multiple
   DIRCOUNT outputs.

08-27-93
   Changed DIRSUM output formatting.
   Changed DIRCOUNT output formatting.

09-07-93 v1.6
   Added DIROV utility to produce an area overview from DIRCOUNT outputs.
   Added COL utility to format DIROV output into multiple columns.

11-17-93 v1.7
   Changed numeric variables from longints to reals to allow totals to
   go over 2,147,483,647 without rolling over.

04-12-95 v1.8
   Changed header generation code to insert (space)(backspace) exit
   before each line of all DIR file headers.  Hopefully this will
   compensate for bugs in some upload proressors.


