
                                 UNARCM
                             A Pro* Utility
                        (C) 1988 Samuel H. Smith
                                06-Oct-88
                         
`UNARCM' is a sysop utility that will merge a ProDoor-generated 'ARCM'
packet into your message base.  It can be used to implement a simple
form of echo mail.

This is by no means a full-feature echo system.  Rather, it is a
minimalist method of sharing messages between systems.

This utility does NOT allow an outsider to upload messages into your
message base - it is used only by YOU with the ARCM packets that YOU
have collected.


You must agree to these conditions before using this program:

      "I agree to use this utility only in conjunction with
       public domain information.  I will not use it to post
       copyright, private, or otherwise restricted
       information."



            !!!!!!!!!!!!!! BETA TEST VERSION !!!!!!!!!!!!!!!!

This version may seem to work, but it has not been fully tested and is
not an official release!  You have been warned.

            !!!!!!!!!!!!!! BETA TEST VERSION !!!!!!!!!!!!!!!!

     !!!!!!!!!! DO NOT POST THIS ARCHIVE FOR DOWNLOADING !!!!!!!!!!!!



                               DISCLAIMER
                               ==========
     IN NO EVENT WILL I BE LIABLE TO YOU FOR ANY DAMAGES, INCLUDING ANY
     LOST PROFITS, LOST SAVINGS OR OTHER INCIDENTAL OR CONSEQUENTIAL
     DAMAGES ARISING OUT OF YOUR USE OR INABILITY TO USE THE PROGRAM,
     OR FOR ANY CLAIM BY ANY OTHER PARTY.

           THIS IS FREEWARE.  NO CHARGE.  COPYRIGHT APPLIES.



Compatibility
=============

UNARCM is compatible with PCBoard v14.0 data file formats.

It requires ARCM packets generated by ProDoor 2.8 beta versions dated
09-11-88 or later.

Unarcm can be used in a limited way to post messages captured with the
online 'R S NS' command of PCBoard.

Installation
============

UNARCM uses a configuration file to direct its operation.  This file
controls message posting, conference translation (between your system
and the original system) and the exclusion of unwanted topics and
duplicate echos.

Comments may be placed anywhere in a configuration file.  All text from
a semicolon to the end of a line will be ignored.

Most configuration commands are not case or space sensitive.


POST <what>
-----------
   The POST statement controls the posting of messages.  This statement
   can only be used once in a configuration file.

   Examples:
        post all        ;post every message regardless of "(Echo)"
        post echo       ;post only messages with "(Echo)" after number.

   Default:
        post echo

   Unarcm will not honor the "POST ALL" command when used with PCBoard
   format message bases.  This non-feature was added at the request of a
   few sysops who were concerned about "pirating" of message bases.


EXCLUDE <text>
--------------
   The EXCLUDE statement allows you to exclude messages that contain any
   specific text.  This statement must be used at least once to exclude
   your own messages from being re-posted.  It can also be used to
   exclude beeping messages, messages with escape(ansi) codes, messages
   from some other echo system, etc.  You may have up to 50 exclude
   statements in a configuration file.

   Examples:
        exclude origin: the tool shop
        exclude via: the tool shop
                ;exclude messages that are echoed-back from your own
                ;system (assuming your own system's name is 'the tool
                ;shop'

        exclude origin: unwanted system
                ;exclude all messages received from the specified
                ;unwanted system.

        exclude unwanted user
                ;exclude all messages to or from a specified user name

   Default:
        Nothing is excluded.


CONVERT <hostConference>, <myConference>
----------------------------------------
   The CONVERT statement is used to route messages from the original
   conference names to your own conference names.  For example, you
   might want messages from your host's "IBM" conference to be posted on
   your system in the "HARDWARE" conference.  To do this, you would
   add the statement:
        convert IBM, HARDWARE
   to the configuration file.   You can have up to 100 convert
   statements in any single configuration file.

   Example:
        convert IBM, HARDWARE       ;post IBM conference messages in
                                    ;your HARDWARE conference.

        convert TECH, Hardware      ;also post TECH messages in HARDWARE.

        convert Politics, Soapbox   ;post POLITICS messages in SOAPBOX.

   Default:
        The default is to post messages in conferences with identical
        names.  For example, messages in your host's "PHOTO" conference
        will be automatically posted in your "PHOTO" conference.


ORIGIN <system name>
--------------------
   The ORIGIN statement is used to explicitly specify the 'origin'
   system information.  

   Example:
        origin The Tool Shop - Phoenix Arizona.

   Default:
        Use this when you are using UNARCM with raw capture files
        created with 'R S NS' in PCBoard.  This statement is not needed
        and will have no effect when used with a ProDoor-generated ARCM
        packet.
        

CONFERENCE <conference name>
----------------------------
   The CONFERENCE statement is used to explicitly specify the conference
   to which messages will be posted.  

   Example:
        conference EchoMail

   Default:
        Use this when you are using UNARCM with raw capture files
        created with 'R S NS' in PCBoard.  This statement is not needed
        and will have no effect when used with a ProDoor-generated ARCM
        packet.  Note that UNARCM will detect 'xxx Conference Joined'
        messages and will use them to automatically select the
        conference from 'R S NS' captures.


RENAME <original name>, <new name>
----------------------------------
   The RENAME statement allows you to change the names used by users
   in messages.  Up to 50 rename statements are allowed.

   Example:
        rename FILE HOUND, JOE JONES
                Change FILE HOUND into JOE JONES in the From: or To:
                entries of all messages posted.

        rename SYSOP, SAMUEL SMITH
                Change all messages to or from SYSOP into messages to
                or from SAMUEL SMITH.

   Default:
        You must include at least one RENAME statement for your Host
        SYSOP so his messages won't be confused with your own SYSOP
        messages once posted on your system.



Example configuration file - use with ARCM packets
==================================================

;
; Configuration file for UNARCM 9/12/88
;

post all                ;post all messages, even if not "echo" messages

;
; To prevent message duplication, all messages containing your own
; system identifier will excluded from the ARCM packet.
; The exclude statement can also be used to exclude unwanted user names
; or subject matter.  Up to 40 exclude statements are allowed.
;
rename SYSOP, Samuel Smith         ;host system SYSOP conversion
exclude Origin: The Tool Shop      ;exclude tool shop echos
exclude THE.FILE JUNKIE            ;exclude this user name
exclude <esc>[                     ;exclude messages with escapes in them

;
; Each convert line specifies the imported conference name, a comma,
; and the local conference name in which the messages are to be posted.
; No conversion is needed if your conference names exactly match those
; found in the ARCM packet.   Up to 100 convert statements are allowed.
;
convert Invest,   Conf36
convert Jokes,    Conf36
convert DesqView, Conf36

Example configuration file - use with R S NS captures
=====================================================

;
; Configuration file for UNARCM 9/16/88
;

;
; To prevent message duplication, all messages containing your own
; system identifier will excluded from the ARCM packet.
; The exclude statement can also be used to exclude unwanted user names
; or subject matter.  Up to 40 exclude statements are allowed.
;
exclude Origin: The Tool Shop      ;exclude tool shop echos
exclude (C)                        ;exclude copyright messages
exclude Copyright
exclude STATUS: RECEIVER ONLY      ;exclude private messages

;
; Specify origin system name and destination conference for message
; posting.  This is required because a simple 'R S NS' capture does not
; contain this information.
;
rename SYSOP, Samuel Smith
origin The Tool Shop - Phoenix Arizona.
conference EchoMail


Operation
=========

Usage:    Unarcm CONFIGFILE SYSTEMDIR PACKETFILE Agreed

Example:  Unarcm unarcm.cnf c:\pcb2 tool2.txt Agreed


CONFIGFILE is the full filename of the UNARCM configuration file to be
           used during message processing.

SYSTEMDIR  is your PCBoard "system" directory - the location of
           the PCBOARD.DAT file.

PACKETFILE is the file name of the TEXT file containing the packet of
           messages to be processed

Agreed     is a required fourth paramter.  The program will not work
           without this paramters.  By using the phrase "Agreed" you
           agree to the following statement:

                "I agree to use this utility only in conjunction with
                 public domain information.  I will not use it to post
                 copyright, private, or otherwise restricted
                 information."

           This non-feature was added at the request of a few sysops who
           were concerned about "pirating" of message bases.

 

Limitations
===========

UNARCM is far from a complete echo mail system.  No provisions are made
for bidirectional message transfer.  It is used ONLY to merge ARCM
packets into your message base.

If you want to share messages on your system with another sysop, you
must arrange for him/her to call in and run ARCM to get responses.
This might change later on.

Unarcm can be used in a limited way to post messages captured with the
online 'R S NS' command of PCBoard.  There is a possibility that a
message that quotes message headers of another message will confuse the
parser. This because PCBoard does not clearly indicate where one message
ends and another begins.

Unarcm will not work unless you agree to it's conditions of use, and
so indicate by adding the word "Agreed" to the end of the command line.

Unarcm will not honor the "POST ALL" command when used with PCBoard
format message bases.  This non-feature was added at the request of a
few sysops who were concerned about "pirating" of message bases.


Error messages
==============

Only v14.0 format is supported
   UnArcm works only with PCBoard v14.0 data files.  These messages
   indicate that an incompatible data file was found.

Can't open pcboard setup file
   The PCBOARD.DAT file could not be opened.  This might be caused by an
   invalid "system directory" specification on the UnArcm command line.

Conference not in CNAMES file
   Messages in the ARCM were from a conference that is not listed on
   your system.  Either add the conference to your system, or add a
   CONVERT statement to route this conference mail into one of your
   existing conferences.

Config entry syntax error:  convert Sourcename,Destname
   An error was detected while decoding a CONVERT statement in the
   config file.  Make sure you include a comma between the two
   conference names.

Format is POST ALL or POST ECHO
   An error was detected while decoding a PORT statement in the config
   file.

Unrecognized config statement
   An illegal keyword was found in the configuration file.  Legal
   configuration statements are:
        POST <what>
        CONVERT <from>, <to>
        EXCLUDE <text>
        ORIGIN <system name>
        CONFERENCE <destination conference>
        RENAME <old name>, <new name>
        ;comments
   A line beginning with anything else will cause this message to be
   printed.

Unexpected end of ARCM packet
Unknown ARCM packet file format
   These errors indicate that the ARCM packet is corrupt or was
   generated by an incompatible version of ProDoor.  UnArcm requires a
   version of ProDoor dates 9/11/88 or newer.  

Network Delay - Message File Locked
   The message file is in use.  Unarcm will retry the operation for
   about 20 seconds.

Message file locked!
   The message file locked-out for over 20 seconds.  This might be
   caused by a "LOCKED" flag left in your message file after a program
   crash.  Use PCBoard utilities or Norton Utilities to change the
   string "LOCKED" into all blanks.

        
Revision History
================
   11-Sep-88 v1.0
      Initial coding and beta release as UNARCM00.ARC

   20-Sep-88
      At the request of some PCBoard system operators, UNARCM was 
      crippled and released without source code.  UNARCM10.ARC.

   See UNARCM.NEW for complete revision history.

